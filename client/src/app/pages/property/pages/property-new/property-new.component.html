<app-spinner *ngIf="loading$ | async"></app-spinner>
<mat-toolbar color="secondary">
    <span>Registrar Nuevo Inmueble</span>
</mat-toolbar>
<section>
    <mat-card>
        <form
            class="form-container"
            #propertyNewForm="ngForm"
            (ngSubmit)="register(propertyNewForm)"
        >
            <div class="personal__photo">
                <div class="photo">
                    <app-entity-photo
                        class="photo__img"
                        [photoURL]="photoLoaded"
                    ></app-entity-photo>
                    <button
                        mat-button
                        appFilesUpload
                        (changed)="onFilesChanged($event)"
                    >
                        <mat-icon>upload</mat-icon>
                        Subir Imagen
                    </button>
                </div>
            </div>
            <mat-form-field>
                <mat-label>Ingrese Nombre</mat-label>
                <input
                    type="text"
                    ngModel
                    name="name"
                    required
                    placeholder="Ingrese Nombre"
                    matInput
                />
                <mat-error>Debe ingresar un nombre</mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Ingrese Direccion</mat-label>
                <input
                    type="text"
                    ngModel
                    name="address"
                    required
                    placeholder="Ingrese Direccion"
                    matInput
                />
                <mat-error>Debe ingresar la direccion</mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Ingrese Precio</mat-label>
                <input
                    type="text"
                    ngModel
                    name="price"
                    required
                    placeholder="Ingrese Precio"
                    matInput
                />
                <mat-error>Debe ingresar el precio</mat-error>
            </mat-form-field>
            <button
                type="submit"
                mat-raised-button
                color="primary"
                [disabled]="propertyNewForm.invalid"
            >
                Guardar Inmueble
            </button>
        </form>
    </mat-card>
</section>
